<Page
    x:Class="JaDisco_UWP.MainPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d" SizeChanged="Page_SizeChanged" Background="Black">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition x:Name="LeftColumn" Width="80*"/>
            <ColumnDefinition x:Name="RightColumn" Width="20*" MinWidth="200"/>
        </Grid.ColumnDefinitions>

        <Grid.RowDefinitions>
            <RowDefinition x:Name="TopRow" Height="36"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <Grid Grid.Row="0" Grid.ColumnSpan="2">
            <CommandBar x:Name="TopCommandBar" Background="Black">
                <CommandBar.PrimaryCommands>
                    <AppBarButton x:Name="DonateButton" ToolTipService.ToolTip="Wesprzyj Wonzia" Click="DonateButton_Click">
                        <AppBarButton.Icon>
                            <FontIcon Glyph="&#xEB51;"/>
                        </AppBarButton.Icon>
                    </AppBarButton>

                    <AppBarSeparator/>

                    <AppBarButton x:Name="ChatPositionButton" ToolTipService.ToolTip="Przenieś chat" Click="ChatPositionButton_Click">
                        <AppBarButton.Icon>
                            <FontIcon x:Name="ChatPositionIcon" FontFamily="{StaticResource SymbolThemeFontFamily}" Glyph="&#xE90C;"/>
                        </AppBarButton.Icon>
                    </AppBarButton>
                    <AppBarButton x:Name="ChatHideButton" ToolTipService.ToolTip="Schowaj chat" Click="ChatHideButton_Click">
                        <AppBarButton.Icon>
                            <FontIcon x:Name="ChatHideIcon" FontFamily="{StaticResource SymbolThemeFontFamily}" Glyph="&#xE9A8;"/>
                        </AppBarButton.Icon>
                    </AppBarButton>
                    <AppBarButton Icon="Refresh" ToolTipService.ToolTip="Odśwież wszystko" Click="RefreshButton_Click"/>

                    <AppBarSeparator/>

                    <AppBarButton Icon="Switch" ToolTipService.ToolTip="Zmień ojca" Click="SwitchButton_Click">
                        <FlyoutBase.AttachedFlyout>
                            <Flyout LightDismissOverlayMode="Auto">
                                <StackPanel>
                                    <TextBlock Text="Zmień ojca" FontSize="14"/>
                                    <RadioButton x:Name="IsWonziu" Content="Wonziu" GroupName="Strim" IsChecked="True"/>
                                    <RadioButton x:Name="IsDzej" Content="Dzej" GroupName="Strim" Checked="DzejButton_Checked" Unchecked="DzejButton_Checked"/>
                                </StackPanel>
                            </Flyout>
                        </FlyoutBase.AttachedFlyout>
                    </AppBarButton>
                    <AppBarButton Icon="Setting" ToolTipService.ToolTip="Ustawienia" Click="SettingsButton_Click">
                        <FlyoutBase.AttachedFlyout>
                            <Flyout LightDismissOverlayMode="Auto">
                                <StackPanel>
                                    <TextBlock Text="Powiadomienia - wkrótce" FontSize="14"/>
                                    <RadioButton Content="Włączone" GroupName="Notifi" IsEnabled="False"/>
                                    <RadioButton Content="Wyłączone" GroupName="Notifi" IsChecked="True" IsEnabled="False"/>

                                    <TextBlock Text="Tip: Jeśli nie wiesz co robi przycisk, najedź myszką"/>
                                    <HyperlinkButton Content="Nasz profil na facebooku" Tapped="Facebook_Tapped"/>
                                    <HyperlinkButton Content="Wykop - tu pisz propozycje zmian" Tapped="Wykop_Tapped"/>
                                    <TextBlock Text="Versatile Software - JaDisco.pl UWP v0.2.0.0"/>
                                </StackPanel>
                            </Flyout>
                        </FlyoutBase.AttachedFlyout>
                    </AppBarButton>
                </CommandBar.PrimaryCommands>

                <CommandBar.Content>
                    <TextBlock x:Name="StatusTextBlock" Text="Ładowanie statusu..." Margin="12,10"/>
                </CommandBar.Content>
            </CommandBar>
            <ProgressBar x:Name="ProgressBar" IsIndeterminate="True" VerticalAlignment="Bottom" Canvas.ZIndex="5"/>
        </Grid>

        <WebView x:Name="StreamWebView" Grid.Column="0" Grid.Row="1" DefaultBackgroundColor="Black" Source="https://player.twitch.tv/?channel=wonziu" ContainsFullScreenElementChanged="StreamWebView_ContainsFullScreenElementChanged"/>
        <WebView x:Name="ChatWebView" Grid.Column="1" Grid.Row="1" DefaultBackgroundColor="Black" Source="https://client.poorchat.net/jadisco"/>
    </Grid>
</Page>